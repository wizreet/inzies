---
/**
 * About Page
 *
 * Displays band information, member details, and contact information.
 * Uses centralized data from the band-members module.
 */
import { Icon } from "astro-icon/components";
import MainLayout from "../layouts/MainLayout.astro";
import { siteConfig } from "../config";
import { bandMembers } from "../data/band-members";
import { ASSET_PATHS, PLATFORM_COLORS } from "../constants";

// Streaming platforms with proper security attributes
const streamingLinks = [
	{
		name: "Spotify",
		url: siteConfig.social.spotify ?? "#",
		color: PLATFORM_COLORS.SPOTIFY,
		hoverColor: "#1ed760",
		icon: "fa6-brands:spotify",
	},
	{
		name: "YouTube",
		url: siteConfig.social.youtube ?? "#",
		color: PLATFORM_COLORS.YOUTUBE,
		hoverColor: "#ff1a1a",
		icon: "fa6-brands:youtube",
	},
] as const;

// Contact email (could be moved to config)
const CONTACT_EMAIL = "hello@inzies.band" as const;
---

<MainLayout title="About" description="Meet the band.">
	<!-- Page Header -->
	<header class="mb-16">
		<h1 class="section-title mb-6 text-4xl text-white md:text-5xl">
			{siteConfig.subtitle}
		</h1>
	</header>

	<!-- Our Story -->
	<section class="mb-20" aria-labelledby="story-heading">
		<div class="card-base relative overflow-hidden p-8 md:p-12">
			<!-- Subtle logo watermark -->
			<div
				class="pointer-events-none absolute -bottom-16 -right-16 h-64 w-64 opacity-5"
				aria-hidden="true"
			>
				<img
					src={`${ASSET_PATHS.LOGOS}/logo-transparent.png`}
					alt=""
					class="h-full w-full object-contain"
					loading="lazy"
				/>
			</div>
			<div class="prose prose-invert relative z-10 max-w-none">
				<h2 id="story-heading" class="mb-6 text-2xl font-bold text-inzies-orange">
					How it started
				</h2>
				<p class="mb-6 text-lg leading-relaxed text-[var(--text-secondary)]">
					Met in 2023. Jammed. Kept jamming. Now we're here.
				</p>
				<p class="mb-6 text-lg leading-relaxed text-[var(--text-secondary)]">........</p>
				<p class="text-lg leading-relaxed text-[var(--text-secondary)]">
					We put our music everywhere, plus we share our beats on Strudel so you can remix them.
					That's more fun than just listening.
				</p>
			</div>
		</div>
	</section>

	<!-- Band Members -->
	<section class="mb-20" aria-labelledby="band-heading">
		<h2 id="band-heading" class="section-title mb-8">The Band</h2>

		<div
			class="stage-container relative aspect-[16/9] w-full overflow-hidden rounded-2xl bg-zinc-900/50 md:aspect-[2/1]"
		>
			<!-- Band image -->
			<img
				src="https://images.unsplash.com/photo-1511735111819-9a3f7709049c?w=1200&h=600&fit=crop"
				alt={`${siteConfig.title} band members`}
				class="h-full w-full object-cover opacity-40"
				loading="lazy"
			/>

			<!-- Streaming Links Overlay -->
			<div class="absolute inset-0 flex items-center justify-center gap-6">
				{
					streamingLinks.map((link) => (
						<a
							href={link.url}
							target="_blank"
							rel="noopener noreferrer"
							class="flex items-center gap-3 rounded-full px-8 py-4 font-semibold text-white shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-xl"
							style={`background-color: ${link.color}`}
							aria-label={`Listen on ${link.name} (opens in new tab)`}
						>
							<Icon name={link.icon} class="text-2xl" />
							{link.name}
						</a>
					))
				}
			</div>

			<!-- Hover hint -->
			<div
				class="absolute bottom-2 left-1/2 -translate-x-1/2 text-xs text-white/40"
				aria-hidden="true"
			>
				hover over us âœ¨
			</div>
		</div>

		<!-- Member list (screen reader accessible) -->
		<div class="sr-only">
			<h3>Band Members:</h3>
			<ul>
				{
					bandMembers.map((member) => (
						<li>
							{member.name} - {member.role}
						</li>
					))
				}
			</ul>
		</div>
	</section>

	<!-- Contact CTA -->
	<section class="text-center" aria-labelledby="contact-heading">
		<div class="card-base p-12">
			<h2 id="contact-heading" class="mb-4 text-3xl font-bold">Say Hi</h2>
			<p class="mx-auto mb-8 max-w-xl text-[var(--text-secondary)]">
				Wanna book us? Collab? Just chat? We're around.
			</p>
			<a
				href={`mailto:${CONTACT_EMAIL}`}
				class="btn-glow inline-flex items-center gap-2"
				aria-label={`Send email to ${CONTACT_EMAIL}`}
			>
				<Icon name="material-symbols:mail" class="text-xl" />
				{CONTACT_EMAIL}
			</a>
		</div>
	</section>
</MainLayout>
