---
/**
 * About Page
 *
 * Displays band information, member details, and contact information.
 */
import { Icon } from "astro-icon/components";
import MainLayout from "../layouts/MainLayout.astro";
import { siteConfig } from "../config";
import { PLATFORM_COLORS } from "../constants";

// Streaming platforms
const streamingLinks = [
	{
		name: "Spotify",
		url: siteConfig.social.spotify ?? "#",
		color: PLATFORM_COLORS.SPOTIFY,
		icon: "fa6-brands:spotify",
	},
	{
		name: "YouTube",
		url: siteConfig.social.youtube ?? "#",
		color: PLATFORM_COLORS.YOUTUBE,
		icon: "fa6-brands:youtube",
	},
] as const;
---

<MainLayout title="About" description="Meet the band.">
	<!-- Page Header -->
	<header class="mb-12">
		<h1 class="section-title mb-4 text-4xl text-white md:text-5xl">
			{siteConfig.subtitle}
		</h1>
		<p class="text-lg text-inzies-orange">Nepali Indie Rock from Kathmandu</p>
	</header>

	<!-- About the Sound -->
	<section class="mb-16" aria-labelledby="sound-heading">
		<div class="card-base p-8 md:p-10">
			<h2 id="sound-heading" class="mb-4 text-xl font-bold text-inzies-orange">Our Sound</h2>
			<p class="mb-4 leading-relaxed text-[var(--text-secondary)]">
				We blend <span class="font-medium text-white">indie rock</span> with
				<span class="font-medium text-white">Nepali folk melodies</span> and
				<span class="font-medium text-white">electronic textures</span>. Think raw guitars meeting
				synthesizers, traditional rhythms colliding with modern beats.
			</p>
			<p class="leading-relaxed text-[var(--text-secondary)]">
				Our music explores themes of <em class="text-inzies-blue"
					>hope, longing, and finding yourself</em
				>
				— sung in Nepali with English sprinkled in. We write songs that feel like late-night conversations.
			</p>
		</div>
	</section>

	<!-- Band Story -->
	<section class="mb-16" aria-labelledby="story-heading">
		<div class="card-base relative overflow-hidden p-8 md:p-10">
			<div class="relative z-10">
				<h2 id="story-heading" class="mb-4 text-xl font-bold text-inzies-orange">How it started</h2>
				<p class="mb-4 leading-relaxed text-[var(--text-secondary)]">
					Met in 2023. Different backgrounds, same obsession with making noise. Started jamming in a
					cramped room in Kathmandu. Kept at it.
				</p>
				<p class="leading-relaxed text-[var(--text-secondary)]">
					Now we put our music everywhere, plus we share our beats on
					<a href="/inzies/play/" class="text-inzies-blue hover:underline">Strudel</a>
					so you can remix them. That's more fun than just listening.
				</p>
			</div>
		</div>
	</section>

	<!-- Listen -->
	<section class="mb-16" aria-labelledby="listen-heading">
		<h2 id="listen-heading" class="section-title mb-6">Listen</h2>
		<div class="flex flex-wrap gap-4">
			{
				streamingLinks.map((link) => (
					<a
						href={link.url}
						target="_blank"
						rel="noopener noreferrer"
						class="flex items-center gap-3 rounded-full px-6 py-3 font-semibold text-white transition-all hover:scale-105"
						style={`background-color: ${link.color}`}
					>
						<Icon name={link.icon} class="text-xl" />
						{link.name}
					</a>
				))
			}
		</div>
	</section>

	<!-- Contact -->
	<section class="text-center" aria-labelledby="contact-heading">
		<div class="card-base p-10">
			<h2 id="contact-heading" class="mb-3 text-2xl font-bold">Say Hi</h2>
			<p class="mb-6 text-[var(--text-secondary)]">Bookings, collabs, or just to chat.</p>
			<button
				type="button"
				class="btn-glow contact-btn inline-flex items-center gap-2"
				aria-label="Contact us via email"
				data-u="hello"
				data-d="inzies.band"
			>
				<Icon name="material-symbols:mail" class="text-xl" />
				<span class="btn-text font-mono text-sm">hello@••••••.band</span>
			</button>
		</div>
	</section>
</MainLayout>

<script>
	document.querySelectorAll(".contact-btn").forEach((btn) => {
		btn.addEventListener("click", function () {
			const el = this as HTMLElement;
			const u = el.dataset.u;
			const d = el.dataset.d;
			if (u && d) {
				window.location.href = `mailto:${u}@${d}`;
			}
		});
		btn.addEventListener("mouseenter", function () {
			const el = this as HTMLElement;
			const text = el.querySelector(".btn-text");
			const u = el.dataset.u;
			const d = el.dataset.d;
			if (text && u && d) {
				text.textContent = `${u}@${d}`;
			}
		});
		btn.addEventListener("mouseleave", function () {
			const el = this as HTMLElement;
			const text = el.querySelector(".btn-text");
			if (text) {
				text.textContent = "hello@••••••.band";
			}
		});
	});
</script>
