---
import { Icon } from "astro-icon/components";
import MainLayout from "../layouts/MainLayout.astro";
import StrudelPlayer from "../components/music/StrudelPlayer.svelte";
import { strudelPatterns } from "../data/strudel-patterns";
---

<MainLayout title="Play Along" description="Mess around with our beats.">
	<!-- Page Header -->
	<div class="mb-12">
		<h1 class="section-title text-4xl md:text-5xl mb-6">Play Along</h1>
		<p class="text-xl text-[var(--text-secondary)] max-w-3xl">
			These are our beats. Click around, break stuff, have fun.
		</p>
	</div>

	<!-- Patterns -->
	<section class="mb-20">
		<div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
			{strudelPatterns.map((pattern, index) => (
				<div class="scroll-reveal" style={`animation-delay: ${index * 0.1}s`}>
					<StrudelPlayer 
						client:load 
						pattern={pattern.pattern}
						title={pattern.title}
						description={pattern.description}
						bpm={pattern.bpm}
					/>
				</div>
			))}
		</div>
	</section>

	<!-- What is this? -->
	<section class="mb-20">
		<div class="card-base p-8">
			<h2 class="text-2xl font-bold mb-4">What's Strudel?</h2>
			<p class="text-[var(--text-secondary)] mb-4">
				It's a music thing that runs in your browser. No downloads, no sign-ups.
			</p>
			<p class="text-[var(--text-secondary)] mb-6">
				We made these patterns. You can remix them or just listen. Either way, cool.
			</p>
			<a 
				href="https://strudel.cc" 
				target="_blank" 
				rel="noopener noreferrer"
				class="inline-flex items-center gap-2 text-inzies-blue hover:text-inzies-blue-400 transition-colors"
			>
				<Icon name="material-symbols:open-in-new" />
				strudel.cc
			</a>
		</div>
	</section>
</MainLayout>
